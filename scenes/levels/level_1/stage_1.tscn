[gd_scene load_steps=52 format=4 uid="uid://bqs7uxv4vt07x"]

[ext_resource type="TileSet" uid="uid://d4afhielv3ocv" path="res://assets/tileset/tileset.tres" id="1_33rtp"]
[ext_resource type="Script" uid="uid://c560wooagg2h" path="res://scenes/levels/level_1/stage_1.gd" id="1_j7dre"]
[ext_resource type="PackedScene" uid="uid://chcs4qer8dybe" path="res://scenes/player/player.tscn" id="2_dwsf3"]
[ext_resource type="PackedScene" uid="uid://djoolf474qo2p" path="res://scenes/ui/MainUI.tscn" id="3_0qf3m"]
[ext_resource type="Texture2D" uid="uid://dcrnqve71d36p" path="res://assets/sprites/environment/background/additional_sky.png" id="3_dwsf3"]
[ext_resource type="Texture2D" uid="uid://bqde0l4at7gv8" path="res://assets/sprites/environment/background/bg_image.png" id="4_i388g"]
[ext_resource type="Texture2D" uid="uid://ck8762h1hy2cf" path="res://assets/sprites/environment/background/additional_water.png" id="5_5usqu"]
[ext_resource type="Texture2D" uid="uid://dekyi7oa4n0sg" path="res://assets/sprites/environment/background/water_reflect_big_01.png" id="6_1vm6v"]
[ext_resource type="Texture2D" uid="uid://m5yds3bm8pou" path="res://assets/sprites/environment/background/big_clouds.png" id="6_bfafv"]
[ext_resource type="Texture2D" uid="uid://ci5tpl05cnmra" path="res://assets/sprites/environment/background/small_cloud_1.png" id="7_rltkt"]
[ext_resource type="Texture2D" uid="uid://b6dilwf04d4be" path="res://assets/sprites/environment/background/water_reflect_big_02.png" id="7_wxig3"]
[ext_resource type="Texture2D" uid="uid://drl3x1wfs0vai" path="res://assets/sprites/environment/background/water_reflect_big_03.png" id="8_586f6"]
[ext_resource type="Texture2D" uid="uid://1t3pkyls8wyt" path="res://assets/sprites/environment/background/small_cloud_2.png" id="8_j4ikx"]
[ext_resource type="Texture2D" uid="uid://c5ur36rqix0vh" path="res://assets/sprites/environment/background/water_reflect_big_04.png" id="9_gi8ev"]
[ext_resource type="Texture2D" uid="uid://dcvs45slp2tv3" path="res://assets/sprites/environment/background/small_cloud_3.png" id="9_t1ot5"]
[ext_resource type="Texture2D" uid="uid://do3ghl5b5mpgy" path="res://assets/sprites/environment/background/water_reflect_small_01.png" id="10_ki2mu"]
[ext_resource type="Texture2D" uid="uid://cm71bsgwox0jq" path="res://assets/sprites/environment/background/water_reflect_small_02.png" id="11_eajpt"]
[ext_resource type="Texture2D" uid="uid://d0b0yg85xphrg" path="res://assets/sprites/environment/background/water_reflect_small_03.png" id="12_2ck71"]
[ext_resource type="Texture2D" uid="uid://o4iqthotrkum" path="res://assets/sprites/environment/background/water_reflect_small_04.png" id="13_oogn1"]
[ext_resource type="Texture2D" uid="uid://cheu53nimdwyt" path="res://assets/sprites/environment/back_palm_trees/back_palm_tree_regular_01.png" id="18_gfh8j"]
[ext_resource type="Texture2D" uid="uid://dt1od2hyke60g" path="res://assets/sprites/environment/back_palm_trees/back_palm_tree_regular_02.png" id="19_0qf3m"]
[ext_resource type="Texture2D" uid="uid://frimagh5yfit" path="res://assets/sprites/environment/back_palm_trees/back_palm_tree_regular_03.png" id="20_qul5t"]
[ext_resource type="Texture2D" uid="uid://cjcxdxoq8hp4l" path="res://assets/sprites/environment/back_palm_trees/back_palm_tree_regular_04.png" id="21_pkhui"]
[ext_resource type="PackedScene" uid="uid://bh6uxsj1od1j6" path="res://scenes/levels/island/objects/raft2.tscn" id="23_qul5t"]
[ext_resource type="FontFile" uid="uid://bf742t4mxgd7l" path="res://assets/fonts/big_font.fnt" id="24_pkhui"]
[ext_resource type="PackedScene" uid="uid://5pp64vwco2e1" path="res://scenes/npc/sign.tscn" id="25_c4j3j"]
[ext_resource type="PackedScene" uid="uid://g5mwh48q6r27" path="res://scenes/npc/sign2.tscn" id="26_4uhvw"]
[ext_resource type="Script" uid="uid://bu1s6vgeohjfk" path="res://scenes/levels/level_1/starting.gd" id="26_51n3v"]
[ext_resource type="PackedScene" uid="uid://cv5kt0si2h1kg" path="res://scenes/npc/sign4.tscn" id="27_jups3"]
[ext_resource type="PackedScene" uid="uid://buayv5wh1bl4u" path="res://scenes/npc/sign3.tscn" id="27_uu7ke"]
[ext_resource type="PackedScene" uid="uid://dt8iucgnaxhj8" path="res://scenes/npc/sign5.tscn" id="28_af67u"]
[ext_resource type="PackedScene" uid="uid://c6k6kx0i213q4" path="res://scenes/enemies/minions/melees/crab.tscn" id="30_jxlqe"]
[ext_resource type="PackedScene" uid="uid://bb8ah6yewvkgx" path="res://scenes/npc/sign6.tscn" id="30_w06il"]
[ext_resource type="PackedScene" uid="uid://c1ojnmhr1sm5l" path="res://scenes/enemies/minions/melees/mushroom.tscn" id="31_5o6pu"]
[ext_resource type="PackedScene" uid="uid://crgqefvompc8w" path="res://scenes/npc/sign7.tscn" id="31_v8lhl"]
[ext_resource type="PackedScene" uid="uid://djsaw6o34gu6c" path="res://scenes/npc/sign_pelican.tscn" id="32_5wuc3"]
[ext_resource type="PackedScene" uid="uid://bxdgdv2dbs6tb" path="res://scenes/enemies/minions/melees/starfish.tscn" id="32_sweax"]
[ext_resource type="PackedScene" uid="uid://da0mswdg4suuk" path="res://scenes/npc/sign8.tscn" id="33_64mh7"]
[ext_resource type="PackedScene" uid="uid://bfht0850wn42w" path="res://scenes/enemies/minions/melees/turtle.tscn" id="33_j1ua3"]
[ext_resource type="PackedScene" uid="uid://crwb5kl1tn450" path="res://scenes/enemies/minions/shootables/pelicans/pelican.tscn" id="34_6vpxb"]

[sub_resource type="GDScript" id="GDScript_1vm6v"]
script/source = "extends ParallaxLayer


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	for child in self.get_children():
		if child is AnimatedSprite2D:
			child.play(\"default\")


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass
"

[sub_resource type="SpriteFrames" id="SpriteFrames_ki2mu"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_1vm6v")
}, {
"duration": 1.0,
"texture": ExtResource("7_wxig3")
}, {
"duration": 1.0,
"texture": ExtResource("8_586f6")
}, {
"duration": 1.0,
"texture": ExtResource("9_gi8ev")
}],
"loop": true,
"name": &"default",
"speed": 10.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_gfh8j"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("10_ki2mu")
}, {
"duration": 1.0,
"texture": ExtResource("11_eajpt")
}, {
"duration": 1.0,
"texture": ExtResource("12_2ck71")
}, {
"duration": 1.0,
"texture": ExtResource("13_oogn1")
}],
"loop": true,
"name": &"default",
"speed": 10.0
}]

[sub_resource type="GDScript" id="GDScript_j4ikx"]
script/source = "extends ParallaxLayer


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	motion_offset.x-= delta*50
"

[sub_resource type="GDScript" id="GDScript_bfafv"]
script/source = "extends ParallaxLayer


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	motion_offset.x-= delta*20
"

[sub_resource type="GDScript" id="GDScript_gfh8j"]
script/source = "extends Node2D


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	for child in self.get_children():
		if child is AnimatedSprite2D:
			child.play(\"default\")


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass
"

[sub_resource type="SpriteFrames" id="SpriteFrames_c4j3j"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("18_gfh8j")
}, {
"duration": 1.0,
"texture": ExtResource("19_0qf3m")
}, {
"duration": 1.0,
"texture": ExtResource("20_qul5t")
}, {
"duration": 1.0,
"texture": ExtResource("21_pkhui")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="Animation" id="Animation_knahy"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimationPlayer/ColorRect:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_rcbyu"]
resource_name = "fade_in"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimationPlayer/ColorRect:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_f3hr0"]
_data = {
&"RESET": SubResource("Animation_knahy"),
&"fade_in": SubResource("Animation_rcbyu")
}

[sub_resource type="GDScript" id="GDScript_c4j3j"]
script/source = "extends Label

@onready var raft = get_parent().get_node(\"Raft\")

func _ready():
	mouse_filter = Control.MOUSE_FILTER_STOP
	visible = true

func _gui_input(event: InputEvent) -> void:
	if event is InputEventMouseButton:
		if event.pressed and event.button_index == MOUSE_BUTTON_LEFT:
			if raft and raft.has_method(\"start_moving\"):
				raft.start_moving()
				visible = false
				
"

[node name="Stage" type="Node2D"]
script = ExtResource("1_j7dre")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAABAAgAAAABAAQAAAACAAgAAAABAAQAAAADAAgAAAABAAQAAAAEAAgAAAABAAQAAAAFAAgAAAAKAAQAAAAGAAgAAAABAAIAAAAHAAgAAAABAAIAAAAIAAgAAAAJAAQAAAAFAAcAAAAAAAAAAAAGAAcAAAABAAAAAAAHAAcAAAABAAAAAAAIAAcAAAAJAAMAAAAJAAgAAAABAAQAAAAKAAgAAAABAAQAAAALAAgAAAABAAQAAAAMAAgAAAABAAQAAAANAAgAAAABAAQAAAAOAAgAAAABAAQAAAAPAAgAAAABAAQAAAAQAAgAAAABAAQAAAARAAgAAAABAAQAAAABAAcAAQAAAAAAAQAGAAYAAQAAAAAAAQASAAgAAAABAAQAAAATAAgAAAABAAQAAAAUAAgAAAABAAQAAAAVAAgAAAABAAIAAAAVAAcAAAAEAAEAAAAVAAYAAAAEAAEAAAAVAAUAAAAEAAEAAAAVAAQAAAAEAAEAAAAVAAMAAAAEAAEAAAAVAAIAAAAEAAEAAAAVAAEAAAAEAAEAAAAVAAAAAAAEAAEAAAAAAAgAAAAAAAQAAAAPAAUAAAABAAQAAAAQAAUAAAACAAQAAAAJAAQAAAABAAIAAAAIAAQAAAAAAAIAAAAIAAMAAAAAAAEAAAAKAAUAAAAAAAIAAAAOAAQAAQAAAAAAAQASAAYAAAAEAAQAAAAIAAIAAAAQAAMAAAALAAUAAAABAAQAAAAMAAUAAAABAAQAAAANAAUAAAABAAQAAAAOAAUAAAABAAQAAAAIAAYAAQAAAAAABQASAAUAAQAAAAAAAwAHAAIAAAABAAQAAAAGAAIAAAABAAQAAAAFAAIAAAABAAQAAAAEAAIAAAABAAQAAAADAAIAAAABAAQAAAACAAIAAAABAAQAAAAAAAIAAAAAAAIAAAABAAIAAAABAAQAAAAAAAEAAAAEAAEAAAAAAAAAAAAEAAEAAAAAAP//AAAEAAEAAAAAAP7/AAAEAAEAAAAAAP3/AAAEAAAAAAAIAAEAAQAAAAAAAwAVAP//AAAEAAEAAAAVAP7/AAAEAAEAAAAVAP3/AAAEAAEAAAAVAPv/AAABAAQAAAAVAPz/AAAEAAEAAAADAAAAAAAEAAQAAAAGAP//AAAAAAQAAAAHAP//AAABAAQAAAAIAP//AAABAAQAAAAJAP//AAABAAQAAAAKAP//AAABAAQAAAALAP//AAACAAQAAAAJAP7/AQAAAAAABAADAP//AQAAAAAABQANAP3/AAAEAAQAAAAPAPv/AAAAAAQAAAAQAPv/AAABAAQAAAARAPv/AAABAAQAAAASAPv/AAABAAQAAAATAPv/AAABAAQAAAAUAPv/AAABAAQAAAAWAPv/AAACAAQAAAAJAAMAAAANAAMAAAAKAAQAAAAQAAMAAAAWAAgAAAABAAQAAAAXAAgAAAABAAQAAAAYAAgAAAABAAQAAAAZAAgAAAABAAQAAAAaAAgAAAABAAQAAAAbAAgAAAABAAQAAAAcAAgAAAABAAQAAAAdAAgAAAABAAQAAAAeAAgAAAABAAQAAAAfAAgAAAABAAQAAAAgAAgAAAABAAQAAAAhAAgAAAABAAQAAAAiAAgAAAABAAQAAAAjAAgAAAABAAQAAAAkAAgAAAABAAQAAAAlAAgAAAABAAQAAAAmAAgAAAABAAQAAAAnAAgAAAABAAQAAAAoAAgAAAACAAQAAAAaAPv/AAAAAAQAAAAbAPv/AAABAAQAAAAcAPv/AAABAAQAAAAdAPv/AAABAAQAAAAeAPv/AAABAAQAAAAfAPv/AAABAAQAAAAgAPv/AAABAAQAAAAhAPv/AAACAAQAAAAXAP//AAAAAAQAAAAYAP//AAABAAQAAAAZAP//AAABAAQAAAAaAP//AAABAAQAAAAbAP//AAABAAQAAAAcAP//AAACAAQAAAAcAP7/AQAAAAAABQAfAAIAAAAAAAQAAAAgAAIAAAABAAQAAAAhAAIAAAABAAQAAAAiAAIAAAABAAQAAAAjAAIAAAABAAQAAAAlAAIAAAABAAQAAAAkAAIAAAABAAQAAAAmAAIAAAABAAQAAAAnAAIAAAACAAQAAAAmAAEAAQAAAAAAAwAtAPv/AAAEAAAAAAAtAPz/AAAEAAEAAAAtAP3/AAAEAAEAAAAtAP7/AAAEAAEAAAAtAP//AAAEAAEAAAAtAAAAAAAEAAEAAAAtAAEAAAAEAAEAAAAtAAIAAAAEAAEAAAAtAAMAAAAEAAEAAAAtAAQAAAAEAAEAAAAtAAUAAAAEAAEAAAAtAAYAAAAEAAEAAAAtAAcAAAAEAAEAAAAtAAgAAAABAAIAAAAAAPz/AQAAAAAAAQAFAAEAAQAAAAAAAQASAPr/AQAAAAAAAQAdAPr/AQAAAAAAAQAiAAEAAQAAAAAAAQAZAP7/AQAAAAAAAQAXAAcAAQAAAAAAAQAkAAcAAQAAAAAAAQA=")
tile_set = ExtResource("1_33rtp")

[node name="Player" parent="." instance=ExtResource("2_dwsf3")]
z_index = 2
position = Vector2(564, -175)

[node name="Camera2D" type="Camera2D" parent="Player"]

[node name="MainUI" parent="Player" instance=ExtResource("3_0qf3m")]
position = Vector2(-241, -136)

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.001, 0.8)
motion_mirroring = Vector2(767, 0)
script = SubResource("GDScript_1vm6v")

[node name="SkySprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(41.5, -49.752)
scale = Vector2(49.5938, 22.953)
texture = ExtResource("3_dwsf3")

[node name="SeaSkySprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(-752, 59)
scale = Vector2(3.92448, 2)
texture = ExtResource("4_i388g")
centered = false

[node name="WaterSprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(-0.748047, 405)
scale = Vector2(47.0783, 5.969)
texture = ExtResource("5_5usqu")

[node name="WaveSprite2D" type="AnimatedSprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(0, 233)
scale = Vector2(1.83529, 1.2)
sprite_frames = SubResource("SpriteFrames_ki2mu")
centered = false

[node name="WaveSprite2DMedium" type="AnimatedSprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(319, 233)
scale = Vector2(3.37143, 1.2)
sprite_frames = SubResource("SpriteFrames_gfh8j")
centered = false

[node name="WaveSprite2DSmall" type="AnimatedSprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(444, 233)
scale = Vector2(2.77143, 1.2)
sprite_frames = SubResource("SpriteFrames_gfh8j")
centered = false

[node name="ParallaxLayerSmallCloud" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.001, 0.8)
motion_mirroring = Vector2(510, 0)
script = SubResource("GDScript_j4ikx")

[node name="SmallClouds" type="Sprite2D" parent="ParallaxBackground/ParallaxLayerSmallCloud"]
position = Vector2(0, 107.725)
texture = ExtResource("7_rltkt")
centered = false

[node name="SmallClouds2" type="Sprite2D" parent="ParallaxBackground/ParallaxLayerSmallCloud"]
position = Vector2(0, 24.685)
texture = ExtResource("8_j4ikx")
centered = false

[node name="SmallClouds3" type="Sprite2D" parent="ParallaxBackground/ParallaxLayerSmallCloud"]
position = Vector2(168.705, 64.93)
texture = ExtResource("9_t1ot5")
centered = false

[node name="ParallaxLayerCloud" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.001, 0.8)
motion_mirroring = Vector2(510, 0)
script = SubResource("GDScript_bfafv")

[node name="BigClouds" type="Sprite2D" parent="ParallaxBackground/ParallaxLayerCloud"]
position = Vector2(-751, 111)
scale = Vector2(5.46353, 1.2)
texture = ExtResource("6_bfafv")
centered = false

[node name="TreeParallaxLayer" type="Node2D" parent="."]
z_index = -1
script = SubResource("GDScript_gfh8j")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="TreeParallaxLayer"]
position = Vector2(84.745, 188.14)
sprite_frames = SubResource("SpriteFrames_c4j3j")
centered = false

[node name="AnimatedSprite2D2" type="AnimatedSprite2D" parent="TreeParallaxLayer"]
position = Vector2(225.03, 188.14)
sprite_frames = SubResource("SpriteFrames_c4j3j")
centered = false

[node name="AnimatedSprite2D3" type="AnimatedSprite2D" parent="TreeParallaxLayer"]
position = Vector2(360.925, 188.14)
sprite_frames = SubResource("SpriteFrames_c4j3j")
centered = false

[node name="Board" type="Node2D" parent="."]

[node name="AD_SPACE" parent="Board" instance=ExtResource("25_c4j3j")]
position = Vector2(87, 239)

[node name="CV" parent="Board" instance=ExtResource("26_4uhvw")]
position = Vector2(510, 239)

[node name="GL" parent="Board" instance=ExtResource("27_uu7ke")]
position = Vector2(397, 143)

[node name="Spike" parent="Board" instance=ExtResource("27_jups3")]
position = Vector2(221, -49)

[node name="Crab" parent="Board" instance=ExtResource("28_af67u")]
position = Vector2(511, -178)

[node name="Starfish" parent="Board" instance=ExtResource("30_w06il")]
position = Vector2(868, -177)

[node name="Mushroom" parent="Board" instance=ExtResource("31_v8lhl")]
position = Vector2(769, -49)

[node name="Pelican" parent="Board" instance=ExtResource("32_5wuc3")]
position = Vector2(1031, 47)

[node name="Turtle" parent="Board" instance=ExtResource("33_64mh7")]
position = Vector2(946, 238)

[node name="Starting" type="Node2D" parent="."]
script = ExtResource("26_51n3v")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Starting"]
libraries = {
&"": SubResource("AnimationLibrary_f3hr0")
}

[node name="ColorRect" type="ColorRect" parent="Starting/AnimationPlayer"]
visible = false
offset_left = -818.0
offset_top = -133.0
offset_right = -88.0
offset_bottom = 359.0
color = Color(0, 0, 0, 1)
metadata/_edit_use_anchors_ = true

[node name="Raft" parent="Starting" instance=ExtResource("23_qul5t")]
position = Vector2(-500, 267)

[node name="Start" type="Label" parent="Starting"]
offset_left = -534.0
offset_top = 280.0
offset_right = -465.0
offset_bottom = 303.0
theme_override_fonts/font = ExtResource("24_pkhui")
text = "START"
script = SubResource("GDScript_c4j3j")
metadata/_edit_use_anchors_ = true

[node name="Crab" parent="." instance=ExtResource("30_jxlqe")]
position = Vector2(665, -169)
collision_mask = 33

[node name="Mushroom" parent="." instance=ExtResource("31_5o6pu")]
position = Vector2(871, -47)

[node name="Starfish" parent="." instance=ExtResource("32_sweax")]
position = Vector2(998, -175)

[node name="Turtle" parent="." instance=ExtResource("33_j1ua3")]
position = Vector2(794, 242)

[node name="Pelican" parent="." instance=ExtResource("34_6vpxb")]
position = Vector2(1143, -12)
